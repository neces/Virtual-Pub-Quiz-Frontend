(this["webpackJsonpVirtual-Pub-Quiz-Frontend"]=this["webpackJsonpVirtual-Pub-Quiz-Frontend"]||[]).push([[0],{30:function(e,t,a){e.exports=a(61)},52:function(e,t,a){e.exports=a.p+"static/media/Ready.0ea0042b.png"},58:function(e,t,a){e.exports=a.p+"static/media/LeaderboardFull.bee86d1d.png"},59:function(e,t,a){e.exports=a.p+"static/media/Logo.608bd790.png"},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),c=a(3),l=a(1),i=a(10),u=a(2),m=a.n(u),d=a(8),p=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),s=t[0],o=t[1],u=Object(n.useState)(""),p=Object(l.a)(u,2),b=p[0],g=p[1],E=Object(n.useState)(!1),f=Object(l.a)(E,2),h=f[0],v=f[1],O=Object(n.useState)(!0),w=Object(l.a)(O,2),S=w[0],j=w[1],N=new d.a;return r.a.createElement("div",null,r.a.createElement("div",{className:"ready-graphic"},r.a.createElement("img",{src:a(52),alt:"Ready for a quiz?",width:"500"})),S?null:r.a.createElement("div",null,"Quiz ID not found or nickname already taken"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/newUserAndJoin",{params:{displayName:b,sessionID:s}}).then((function(e){console.log(e.data),N.set("userID",e.data,{path:"/"}),j(e.status),v(!0),j(!0)})).catch((function(e){console.error("There was an error!",e),j(!1)}))}},r.a.createElement("div",{className:"start-form"},r.a.createElement("input",{required:!0,title:"Quiz ID should be 6 digits.",pattern:"\\d{6}",value:s,placeholder:"Quiz ID",onChange:function(e){console.log(e.target.value),o(e.target.value)}}),r.a.createElement("input",{required:!0,value:b,placeholder:"Nickname",onChange:function(e){console.log(e.target.value),g(e.target.value)}}),r.a.createElement("button",{className:"start-button",type:"submit"},"START"),r.a.createElement(i.b,{to:"/host"},r.a.createElement("button",{className:"host-home-button"},"HOST")))),h?r.a.createElement(c.a,{to:"/waiting"}):null)},b=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],p=i[1],b=Object(n.useState)("1"),g=Object(l.a)(b,2),E=g[0],f=(g[1],Object(n.useState)("")),h=Object(l.a)(f,2),v=h[0],O=h[1],w=Object(n.useState)("0"),S=Object(l.a)(w,2),j=S[0],N=(S[1],Object(n.useState)("")),z=Object(l.a)(N,2),I=z[0],T=z[1],D=Object(n.useState)(!1),q=Object(l.a)(D,2),A=q[0],k=q[1],y=Object(n.useState)(!1),x=Object(l.a)(y,2),Q=x[0],L=x[1],C=new d.a;return!0===A&&!1===Q&&(m.a.get("https://team9app.azurewebsites.net/api/quizzarr/newSession",{params:{hostUId:C.get("userID"),quizName:u,numberOfRounds:E,numberOfQuestionsPerRound:v,timeBetweenRounds:j,timePerQuestion:I}}).then((function(e){console.log(e.data)})).catch((function(e){console.error("There was an error!",e)})),L(!0)),r.a.createElement("div",null,r.a.createElement("div",{className:"host-text"},r.a.createElement("div",null,"HOST A QUIZ"),r.a.createElement("div",null,"We will select all the questions for you")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/newUser",{params:{displayName:a}}).then((function(e){console.log(e.data),C.set("userID",e.data,{path:"/"}),k(!0)})).catch((function(e){console.error("There was an error!",e)})),""===v&&O("10"),""===I&&T("15")}},r.a.createElement("div",{className:"host-form"},r.a.createElement("label",null,"Your Nickname"),r.a.createElement("input",{required:!0,value:a,onChange:function(e){console.log(e.target.value),s(e.target.value)}}),r.a.createElement("label",null,"Quiz Name"),r.a.createElement("input",{required:!0,value:u,onChange:function(e){console.log(e.target.value),p(e.target.value)}}),r.a.createElement("label",null,"Number of Questions"),r.a.createElement("input",{title:"Select the number of questions per round between 1 and 50.",pattern:"[1-9]|[0-4][0-9]|[5][0]",value:v,placeholder:"10",onChange:function(e){console.log(e.target.value),O(e.target.value)}}),r.a.createElement("label",null,"Time per Question (seconds)"),r.a.createElement("input",{title:"Select time per question between 1 and 100 seconds.",pattern:"[1-9]|[0-9][0-9]|[1][0][0]",value:I,placeholder:"15",onChange:function(e){console.log(e.target.value),T(e.target.value)}}),r.a.createElement("button",{className:"host-button",type:"submit"},"HOST"))),A?r.a.createElement(c.a,{to:"/hosting"}):null)},g=function(e){var t=e.timer,a=e.handleIsTimeOut,s=e.resetTimeIsOut,o=Object(n.useState)(t),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){i>0&&setTimeout((function(){return u(i-1)}),1e3)}),[i]),0===i?(!1===p&&(a(),setTimeout((function(){s(),u(t),b(!1)}),5e3),b(!0)),r.a.createElement("div",{className:"timer"},r.a.createElement("div",null))):r.a.createElement("div",{className:"timer"},r.a.createElement("div",null,i))},E=function(e){var t=e.questions;return r.a.createElement("div",null,t.question)},f=function(e){var t=e.type,a=e.answers,s=e.correctAnswer,o=e.filterAnswer,c=e.isTimeOut,i=e.isSelected,u=e.isSendAnswer,m=e.sendAnswer,d=Object(n.useState)(""),p=Object(l.a)(d,2),b=p[0],g=p[1],E=function(e){return e===b?"button-selected":"button-normal"},f=function(e){return e===s?"button-correct":e===b?"button-selected":"button-normal"},h=function(){return!1===c?r.a.createElement("div",null,r.a.createElement("div",{className:"answer-section"},a.map((function(e){return r.a.createElement("button",{key:e,className:E(e),disabled:!0},e)})))):!0===c?r.a.createElement("div",null,r.a.createElement("div",{className:"answer-section"},a.map((function(e){return r.a.createElement("button",{key:e,className:f(e),disabled:!0},e)})))):void 0};!0===c&&!1===u&&!1===i&&(console.log("send null answer"),m(""));var v=function(e){g(e),m(e),console.log("Click Answer")};return"TrueFalse"===t||"MultiChoice"===t?r.a.createElement("div",{className:"answer-section"},o?h():r.a.createElement("div",{className:"answer-section"},a.map((function(e){return r.a.createElement("button",{key:e,className:"button-normal",disabled:!1,onClick:function(){return v(e)}},e)})))):r.a.createElement(r.a.Fragment,null)},h=function(e){var t=e.userID,a=e.isLeaderboard,s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=function(e){e.preventDefault(),!1===a&&m.a.get("https://team9app.azurewebsites.net/api/quizzarr/leaveSession",{params:{userID:t}}).then((function(e){console.log("Session Left"),p()})).catch((function(e){console.error("There was an error!",e)})),u(!0)},p=function(){m.a.call("https://team9app.azurewebsites.net/api/quizzarr/admin/endSession",{params:{userID:t}}).then((function(e){console.log(e.data),console.log("Session Deleted")})).catch((function(e){console.error("There was an error!",e)}))};return!0===i?r.a.createElement(c.a,{to:"/"}):!0===a?(m.a.get("https://team9app.azurewebsites.net/api/quizzarr/leaveSession",{params:{userID:t}}).then((function(e){console.log("Session Left"),p()})).catch((function(e){console.error("There was an error!",e)})),r.a.createElement("div",null,r.a.createElement("button",{className:"button-leave",onClick:d},"RETURN TO HOMEPAGE"))):r.a.createElement("div",null,r.a.createElement("button",{className:"button-leave",onClick:d},"LEAVE SESSION"))},v=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(!0),i=Object(l.a)(o,2),u=i[0],p=i[1],b=Object(n.useState)(!0),v=Object(l.a)(b,2),O=v[0],w=v[1],S=Object(n.useState)(!1),j=Object(l.a)(S,2),N=j[0],z=j[1],I=Object(n.useState)(!1),T=Object(l.a)(I,2),D=T[0],q=T[1],A=Object(n.useState)(""),k=Object(l.a)(A,2),y=k[0],x=k[1],Q=Object(n.useState)([]),L=Object(l.a)(Q,2),C=L[0],P=L[1],R=Object(n.useState)(""),U=Object(l.a)(R,2),G=U[0],F=U[1],H=new d.a,J=Object(n.useState)(!1),M=Object(l.a)(J,2),V=M[0],B=M[1],Y=Object(n.useState)(!1),W=Object(l.a)(Y,2),Z=W[0],K=W[1],X=Object(n.useState)(!1),$=Object(l.a)(X,2),_=$[0],ee=$[1],te=function(){console.log("Getting Question"),q(!1),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/getQuestion",{params:{userID:H.get("userID")}}).then((function(e){console.log("promise fulfilled"),console.log(e.data),P(e.data),p(!1)})).catch((function(e){console.log("There was an error!",e),404===e.response.status&&s(!0)})),p(!1)},ae=function(){m.a.get("https://team9app.azurewebsites.net/api/quizzarr/getCorrectAnswer",{params:{userID:H.get("userID")}}).then((function(e){console.log("getCorrectAnswer"),F(e.data),console.log(e.data)})).catch((function(e){console.log("There was an error!",e)}))};if(u)return console.log("loading questions"),te(),r.a.createElement("div",{className:"App"});if(O)return console.log("loading timer"),console.log("Getting Timer"),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/gameSessionStatus",{params:{userID:H.get("userID")}}).then((function(e){console.log("promise fulfilled"),console.log(e.data),x(e.data.timePerQuestion),w(!1)})).catch((function(e){console.log("There was an error!",e)})),r.a.createElement("div",{className:"App"});!1===N&&(setTimeout((function(){q(!1),z(!1),te(),K(!1),ee(!1),B(!1)}),1e3*y+5e3),z(!0));return r.a.createElement("div",null,r.a.createElement("div",{className:"timer"},r.a.createElement(g,{timer:y,handleIsTimeOut:function(){return K(!0),void console.log("Time is out")},resetTimeIsOut:function(){return K(!1),B(!1),void console.log("resetisTimeOut",Z)}})),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"question"},r.a.createElement(E,{questions:C})),r.a.createElement(f,{type:C.type,answers:C.answers,correctAnswer:G,userID:H.get("userID"),filterAnswer:D,isTimeOut:Z,isSelected:V,isSendAnswer:_,sendAnswer:function(e){return function(e){m.a.get("https://team9app.azurewebsites.net/api/quizzarr/submitAnswer",{params:{userID:H.get("userID"),answer:e}}).then((function(e){console.log("Answer sent"),ae(),B(!0),ee(!0),q(!0)})).catch((function(e){console.error("There was an error!",e)}))}(e)}})),r.a.createElement("div",null,a?r.a.createElement(c.a,{to:"/leaderboard"}):null),r.a.createElement(h,{userID:H.get("userID"),isLeaderboard:!1}))},O=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1],b=Object(n.useState)([]),g=Object(l.a)(b,2),E=g[0],f=g[1],v=new d.a,O=function(){console.log("Getting Game Status"),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/gameSessionStatus",{params:{userID:v.get("userID")}}).then((function(e){console.log("promise fulfilled"),f(e.data),s(!1),console.log(e.data)})).catch((function(e){console.error("There was an error!",e)}))};return!1===u&&(setTimeout((function(){O(),p(!1)}),3e3),p(!0)),a?(console.log("Loading game session"),O(),r.a.createElement("div",{className:"app"},"Loading game session")):r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"waiting"},r.a.createElement("div",{className:"quiz-name"},E.quizName.toUpperCase()),r.a.createElement("div",{className:"waiting-text"},E.numberOfQuestionsPerRound," QUESTIONS"),r.a.createElement("div",{className:"waiting-text"},E.timePerQuestion," SECONDS TIMER"),r.a.createElement("div",{className:"waiting-text"}),r.a.createElement("div",{className:"waiting-text"},"PEOPLE JOINED: ",E.numberOfUsers)),r.a.createElement("div",{className:"loadingio-spinner-ellipsis-8ty8wmpuhyh"},r.a.createElement("div",{className:"ldio-ctuwgjg8ktk"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),E.gameInProgress?r.a.createElement(c.a,{to:"/quiz"}):null,r.a.createElement(h,{userID:v.get("userID")}))},w=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1],b=Object(n.useState)([]),g=Object(l.a)(b,2),E=g[0],f=g[1],v=new d.a,O=function(){console.log("Getting Game Status"),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/gameSessionStatus",{params:{userID:v.get("userID")}}).then((function(e){console.log("promise fulfilled"),f(e.data),s(!1),console.log(e.data)})).catch((function(e){console.error("There was an error!",e)}))};return!1===u&&(setTimeout((function(){O(),p(!1)}),3e3),p(!0)),a?(console.log("Loading game session"),O(),r.a.createElement("div",{className:"app"},"Loading game session")):r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"waiting"},r.a.createElement("div",{className:"quiz-name"},E.quizName.toUpperCase()),r.a.createElement("div",{className:"waiting-text"},"TO JOIN THIS GAME ",r.a.createElement("br",null),"TYPE IN"),r.a.createElement("button",{className:"quiz-id-button",disabled:!0},E.sessionId),r.a.createElement("div",{className:"waiting-text"}),r.a.createElement("div",{className:"waiting-text"},"PEOPLE JOINED: ",E.numberOfUsers)),r.a.createElement("button",{className:"start-button",onClick:function(){console.log("Starting Session"),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/startSession",{params:{hostUId:v.get("userID")}}).then((function(e){console.log("promise fulfilled"),console.log(e.data)})).catch((function(e){console.error("There was an error!",e)}))}},"START"),E.gameInProgress?r.a.createElement(c.a,{to:"/quiz"}):null,r.a.createElement(h,{userID:v.get("userID")}))},S=a(29),j=function(e){Object(S.a)(e);var t=Object(n.useState)([]),s=Object(l.a)(t,2),o=s[0],c=s[1],i=Object(n.useState)(!0),u=Object(l.a)(i,2),p=u[0],b=u[1],g=new d.a;return p?(console.log("loading leaderboard"),console.log("Getting Leaderboard"),m.a.get("https://team9app.azurewebsites.net/api/quizzarr/getLeaderBoard",{params:{userID:g.get("userID")}}).then((function(e){console.log("promise fulfilled"),c(e.data),b(!1)})).catch((function(e){console.error("There was an error!",e)})),r.a.createElement("div",{className:"app"})):r.a.createElement("div",null,r.a.createElement("div",{className:"leaderboard"},r.a.createElement("img",{src:a(58),alt:"Leaderboard",width:"800"}),r.a.createElement("div",{className:"leaderboard-text"},o.map((function(e,t){return r.a.createElement("div",{key:t+1,className:"rank"}," ",t+1,". ",e.displayName," Score: ",e.score," Highest Streak: ",e.highestStreak)})))),r.a.createElement(h,{userID:g.get("userID"),isLeaderboard:!0}))},N=function(){return r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:p}),r.a.createElement(c.b,{exact:!0,path:"/host",component:b}),r.a.createElement(c.b,{exact:!0,path:"/quiz",component:v}),r.a.createElement(c.b,{exact:!0,path:"/waiting",component:O}),r.a.createElement(c.b,{exact:!0,path:"/hosting",component:w}),r.a.createElement(c.b,{exact:!0,path:"/leaderboard",component:j}))},z=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"quiz-logo"},r.a.createElement("img",{src:a(59),alt:"Quiz Logo",width:"280"})),r.a.createElement(N,null))};a(60);o.a.render(r.a.createElement(i.a,{basename:"/Virtual-Pub-Quiz-Frontend"},r.a.createElement(z,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.82e77924.chunk.js.map